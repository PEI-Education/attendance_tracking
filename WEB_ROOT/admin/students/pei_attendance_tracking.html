<!DOCTYPE html>
<html>
<head>
    <meta name="Author" content="Luke Walker, PEI Dept of Education">
    <meta name="Version" content="2024.3">
    <title>~[text:psx.htmlc.admin_students.attendance_tracking.attendance_concerns_checklist]</title>
    <link rel="stylesheet" type="text/css" href="/admin/pei_reports/css/foundation-icons.css" />
    ~[wc:commonscripts]
	<script src="/scripts/psQuery/psQuery.js"></script>
    <link href="/images/css/screen.css" rel="stylesheet" media="screen">
    <link href="/images/css/print.css" rel="stylesheet" media="print">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.0.0/dist/themes/light.css" />
    <script type="module" src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.0.0/dist/shoelace.js"></script>
    <link href="/images/css/pei_att_track.css" rel="stylesheet">
    <script>
    function printDiv() {
        var popupWin = window.open('', '_blank', 'width=1000,height=600');
    
        popupWin.document.write('<html><head>'+
                                '<link rel="stylesheet" type="text/css" href="/admin/pei_reports/css/foundation-icons.css" />'+
                                '<link href="/images/css/print.css" rel="stylesheet" media="print">'+
                                '<link href="/images/css/pei_att_track.css" rel="stylesheet">'+
                                '<link href="/images/css/pei_att_track_print.css" rel="stylesheet">'+
                                '</head><body>' + document.querySelector('#printarea').innerHTML + '</body></html>');
        popupWin.print();  
    }
    </script>
</head>
<body>

~[wc:admin_header_frame_css]<!-- breadcrumb start --><a href="/admin/home.html" target="_top">~[text:psx.htmlc.admin_students.attendance_tracking.start]</a> &gt; <a href="home.html?selectstudent=nosearch" target="_top">~[text:psx.htmlc.admin_students.attendance_tracking.student_selection]</a> &gt; ~[text:psx.htmlc.admin_students.attendance_tracking.attendance_concerns_checklist]<!-- breadcrumb end -->~[wc:admin_navigation_frame_css]

~[wc:title_student_begin_css]~[text:psx.htmlc.admin_students.attendance_tracking.attendance_concerns_checklist]~[wc:title_student_end_css]

<!-- start of content and bounding box -->
<div data-require-path="peiAttTrack/peiAttTrack" data-module-name="attTrackMod" ng-controller="attTrackCtrl" ng-cloak> 
    <div class="box-round no-print">
        <input type="hidden" id="staffName" value="~[x:username;firstlast]" />
        <input type="hidden" id="studentsdcid" value="~(studentrn)" />
        <input type="hidden" id="dateToday" value="~[date]" />
        <input type="hidden" id="termid" value="~(curtermid)" />
        <input type="hidden" id="gradeInYear" value="~[tlist_sql;select * from (select e.grade_level from ps_schoolenrollment e where e.studentid = ~(curstudid) and e.yearid = ~(curyearid) order by 1 desc) where ROWNUM=1;nonemessage=-9]~(1)[/tlist_sql]" />  
        <div ng-if="validTerm()">
            <h2>~[text:psx.htmlc.admin_students.attendance_tracking.checklist_for] ~(termname) <span class="right boldtext">~[text:psx.htmlc.admin_students.attendance_tracking.grade_level_this_term] {{gradeInYear}} &nbsp; &nbsp; <button class="btn btn-primary" onclick="printDiv()"><i class="fi-print"></i> ~[text:psx.htmlc.admin_students.attendance_tracking.print_view]</button></span></h2>
            <div class="feedback-info no-print">
                <ul>
                    <li>~[text:psx.htmlc.admin_students.attendance_tracking.this_checklist_must_be_complet] ~[text:psx.htmlc.admin_students.attendance_tracking.most_steps_must_have_a_date_la]~[text:psx.htmlc.admin_students.attendance_tracking.in_the_case_of_written_notific] ~[text:psx.htmlc.admin_students.attendance_tracking.the_one_exception_is_the_first]</li>
                    <li>~[text:psx.htmlc.admin_students.attendance_tracking.a_red_border_around_a_field_in]</li>
                    <li>~[text:psx.htmlc.admin_students.attendance_tracking.you_can_reset_your_most_recent]</li>
                    <li>~[if#lt.prefschool.attendancetracking#]~[text:psx.htmlc.admin_students.attendance_tracking.notification_emails_are_sent_to][else#lt]~[text:psx.htmlc.admin_students.attendance_tracking.notification_emails_are_not_set_up][/if#lt] ~[text:psx.htmlc.admin_students.attendance_tracking.to_update_the_list_of_staff]</li>
                    <li>~[text:psx.htmlc.admin_students.attendance_tracking.for_a_printable_version] ~[text:psx.htmlc.admin_students.attendance_tracking.a_popup_wil_open_with_a_versio]</li>
                </ul>
            </div>
            <fieldset ng-if="gradeInYear > 9">
                <legend>~[text:psx.htmlc.admin_students.attendance_tracking.student_contact]</legend>
                <form name="forms.stu" id="stuForm"  ng-submit="save($event,'student')" novalidate class="validatedForm noSubmitLoading" data-pss-validation-form data-dirty-state-check="true">
                    <table class="checklistTable">
                        <colgroup>
                            <col style="width:35%;" />
                            <col style="width:38%;" />
                            <col style="width:18%;" />
                            <col style="width:9%;" />
                        </colgroup>
                        <tbody>
                            <tr>
                                <td class="grid-item stretchCell">
                                    <label class="form-control" for="student_notification">
                                    <input type="checkbox" ng-model="record.student.student_notification" ng-click="toggle($event, 'student', 'student_notification')" name="student_notification" id="student_notification" ng-true-value="1" ng-false-value="0" ng-disabled="record.calls.parent_call_2>0"> ~[text:psx.htmlc.admin_students.attendance_tracking.discussion_of_concern]</label>
                                </td>
                                <td class="grid-item">
                                    <label for="student_notification_staff">~[text:psx.htmlc.admin_students.attendance_tracking.contacted_by]</label> 
                                    <input size="40" id="student_notification_staff" name="staff" length="40" ng-model="record.student.student_notification_staff" ng-disabled="record.student.student_notification==0" ng-required="record.student.student_notification==1" />
                                </td>
                                <td class="grid-item">
                                    <label for="student_notification_date">~[text:psx.htmlc.admin_students.attendance_tracking.date]</label> 
                                    <input id="student_notification_date" name="date" ng-model="record.student.student_notification_date" type="text" pss-date-widget data-minDate="~[x:termbegdate]" ng-disabled="record.student.student_notification==0" ng-required="record.student.student_notification==1" />
                                </td>
                                <td class="grid-item center">
                                    <div id="student_save" ng-if="student_save=='saving'" data-pss-wait-spinner="small"></div>
                                    <button type="submit" id="student_save" ng-if="student_save=='unsaved' || student_save=='saved' || !student_save"  ng-disabled="forms.stu.$invalid || forms.stu.$pristine"><i class="fi-checkbox icon"></i></button>
                                    <div id="saved" class="saved" ng-if="student_save=='saved' && !forms.stu.$dirty">~[text:psx.htmlc.admin_students.attendance_tracking.saved]</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </form>
            </fieldset>
             <fieldset>
                <legend><span class="qcicon">~[text:psx.htmlc.admin_students.attendance_tracking.initial_concern_and_guardian_c]&nbsp;</span> 
                    <a class='dialogM' title='Quick Contacts' href="/admin/alerts/pscb_contacts_alert.html?frn=~(studentfrn)" style="visibility: visible;">
                      <img src="/images/iconContacts1.png" height="24" width="24" border="2">
                    </a>
                </legend>
                <form name="forms.calls" id="callsForm"  ng-submit="save($event,'calls')" novalidate class="validatedForm noSubmitLoading" data-pss-validation-form data-dirty-state-check="true">
                    <table class="checklistTable">
                        <colgroup>
                            <col style="width:35%;" />
                            <col style="width:38%;" />
                            <col style="width:18%;" />
                            <col style="width:9%;" />
                        </colgroup>
                        <tbody>
                            <tr>
                                <td class="grid-item stretchCell">
                                    <span class="label">~[text:psx.htmlc.admin_students.attendance_tracking.call_1] &nbsp;</span>
                                    <sl-radio-group label="" name="parent_call_1" value="{{record.calls.parent_call_1}}" >
                                        <sl-radio-button class="call-na" size="small" ng-click="recordCall($event, 'parent_call_1',0)" value="0" ng-disabled="record.calls.parent_call_2>0 || concerns.concern_2_req==1">~[text:psx.htmlc.admin_students.attendance_tracking.not_attempted]</sl-radio-button>
                                        <sl-radio-button class="call-nc" size="small" value="1" ng-click="recordCall($event, 'parent_call_1',1)" ng-disabled="record.calls.parent_call_2>0 || concerns.concern_2_req==1">~[text:psx.htmlc.admin_students.attendance_tracking.no_contact]</sl-radio-button>
                                        <sl-radio-button class="call-co" size="small" value="3" ng-click="recordCall($event, 'parent_call_1',3)" ng-disabled="record.calls.parent_call_2>0 || concerns.concern_2_req==1">~[text:psx.htmlc.admin_students.attendance_tracking.contact_made]</sl-radio-button>
                                    </sl-radio-group>
                                </td>
                                <td class="grid-item">
                                    <label for="parent_call_1_staff">~[text:psx.htmlc.admin_students.attendance_tracking.contacted_by]</label> 
                                    <input size="40" id="parent_call_1_staff" name="staff" ng-model="record.calls.parent_call_1_staff" ng-disabled="record.calls.parent_call_1==0 || record.calls.parent_call_2>0 || concerns.concern_2_req==1" ng-required="record.calls.parent_call_1>0" />
                                </td>
                                <td class="grid-item">
                                    <label for="parent_call_1_date">~[text:psx.htmlc.admin_students.attendance_tracking.date]</label> 
                                    <input id="parent_call_1_date" name="date" ng-model="record.calls.parent_call_1_date" type="text" pss-date-widget  data-minDate="{{ record.student.student_notification_date }}" ng-disabled="record.calls.parent_call_1==0 || record.calls.parent_call_2>0 || concerns.concern_2_req==1" ng-required="record.calls.parent_call_1>0" />
                                </td>
                                <td class="grid-item center" rowspan="4">
                                    <div id="calls_save" ng-if="calls_save=='saving'" data-pss-wait-spinner="small"></div>
                                    <button type="submit" ng-click="save($event, 'calls')" id="calls_save" ng-if="calls_save=='unsaved' || calls_save=='saved' || !calls_save"  ng-disabled="forms.calls.$invalid || forms.calls.$pristine || forms.stu.$dirty"><i class="fi-checkbox icon no-print"></i></button>

                                    <div id="saved" class="saved" ng-if="calls_save=='saved' && !forms.calls.$dirty">~[text:psx.htmlc.admin_students.attendance_tracking.saved]</div>
                                </td>
                            </tr>
                            <tr class="alternateRow">
                                <td class="grid-item stretchCell">
                                    <span class="label">~[text:psx.htmlc.admin_students.attendance_tracking.call_2] &nbsp;</span>
                                    <sl-radio-group label="" name="parent_call_2" value="{{record.calls.parent_call_2}}" >
                                        <sl-radio-button class="call-na" size="small" ng-click="recordCall($event, 'parent_call_2',0)" value="0" ng-disabled="record.calls.parent_call_1==0 || record.calls.parent_call_3>0 || concerns.concern_2_req==1">~[text:psx.htmlc.admin_students.attendance_tracking.not_attempted]</sl-radio-button>
                                        <sl-radio-button class="call-nc" size="small" value="1" ng-click="recordCall($event, 'parent_call_2',1)" ng-disabled="record.calls.parent_call_1==0 || record.calls.parent_call_3>0  || concerns.concern_2_req==1">~[text:psx.htmlc.admin_students.attendance_tracking.no_contact]</sl-radio-button>
                                        <sl-radio-button class="call-co" size="small" value="3" ng-click="recordCall($event, 'parent_call_2',3)" ng-disabled="record.calls.parent_call_1==0 || record.calls.parent_call_3>0  || concerns.concern_2_req==1">~[text:psx.htmlc.admin_students.attendance_tracking.contact_made]</sl-radio-button>
                                    </sl-radio-group>
                                </td>
                                <td class="grid-item">
                                    <label for="parent_call_2_staff">~[text:psx.htmlc.admin_students.attendance_tracking.contacted_by]</label> 
                                    <input size="40" id="parent_call_2_staff" name="staff" ng-model="record.calls.parent_call_2_staff" ng-disabled="record.calls.parent_call_2==0 || record.calls.parent_call_3>0  || concerns.concern_2_req==1" ng-required="record.calls.parent_call_2>0" />
                                </td>
                                <td class="grid-item">
                                    <label for="parent_call_2_date">~[text:psx.htmlc.admin_students.attendance_tracking.date]</label> 
                                    <input id="parent_call_2_date" name="date" ng-model="record.calls.parent_call_2_date" type="text" pss-date-widget data-minDate="{{ record.calls.parent_call_1_date }}" ng-disabled="record.calls.parent_call_2==0 || record.calls.parent_call_3>0  || concerns.concern_2_req==1" ng-required="record.calls.parent_call_2>0" />
                                </td>
                            </tr>
                            <tr>
                                <td class="grid-item stretchCell">
                                    <span class="label">~[text:psx.htmlc.admin_students.attendance_tracking.call_3] &nbsp;</span>
                                    <sl-radio-group label="" name="parent_call_3" value="{{record.calls.parent_call_3}}" >
                                        <sl-radio-button class="call-na" size="small" ng-click="recordCall($event, 'parent_call_3',0)" value="0" ng-disabled="record.calls.parent_call_2==0 || concerns.concern_2_req==1">~[text:psx.htmlc.admin_students.attendance_tracking.not_attempted]</sl-radio-button>    
                                        <sl-radio-button class="call-nc" size="small" value="1" ng-click="recordCall($event, 'parent_call_3',1)" ng-disabled="record.calls.parent_call_2==0 || concerns.concern_2_req==1">~[text:psx.htmlc.admin_students.attendance_tracking.no_contact]</sl-radio-button>
                                        <sl-radio-button class="call-co" size="small" value="3" ng-click="recordCall($event, 'parent_call_3',3)" ng-disabled="record.calls.parent_call_2==0 || concerns.concern_2_req==1">~[text:psx.htmlc.admin_students.attendance_tracking.contact_made]</sl-radio-button>
                                    </sl-radio-group>
                                </td>
                                <td class="grid-item">
                                    <label for="parent_call_3_staff">~[text:psx.htmlc.admin_students.attendance_tracking.contacted_by]</label> 
                                    <input size="40" id="parent_call_3_staff" name="staff" ng-model="record.calls.parent_call_3_staff" ng-disabled="record.calls.parent_call_3==0 || concerns.concern_2_req>0" ng-required="record.calls.parent_call_3>0" />
                                </td>
                                <td class="grid-item">
                                    <label for="parent_call_3_date">~[text:psx.htmlc.admin_students.attendance_tracking.date]</label> 
                                    <input id="parent_call_3_date" name="date" ng-model="record.calls.parent_call_3_date" type="text" pss-date-widget  data-minDate="{{ record.calls.parent_call_2_date }}" ng-disabled="record.calls.parent_call_3==0 || concerns.concern_2_req>0" ng-required="record.calls.parent_call_3>0" />
                                </td>
                            </tr>
                            <tr class="alternateRow">
                                <td colspan="3" class="grid-item">
                                    <label for="parent_call_notes" class="notes-label">~[text:psx.htmlc.admin_students.attendance_tracking.notes]</label>
                                    <p class="help-text">~[text:psx.htmlc.admin_students.attendance_tracking.note_any_relevant_details_rega]</p>
                                    <textarea class="notes" id="parent_call_notes" name="parent_call_notes" ng-model="record.calls.parent_call_notes" ng-disabled="record.calls.parent_call_1==0 || concerns.concern_2_req==1" maxlength="4000">{{ parent_call_notes }}</textarea>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </form>
            </fieldset>
            <fieldset>
                <legend>~[text:psx.htmlc.admin_students.attendance_tracking.continued_concern_written_no]</legend>
                <table class="checklistTable">
                    <colgroup>
                        <col style="width:35%;" />
                        <col style="width:38%;" />
                        <col style="width:18%;" />
                        <col style="width:9%;" />
                    </colgroup>  
                    <tbody ng-form name="forms.concern_2" id="concern_2Form" novalidate class="validatedForm noSubmitLoading" data-pss-validation-form data-dirty-state-check="true">
                        <tr>
                            <td colspan="4">
                                <h3 class="concern-head">~[text:psx.htmlc.admin_students.attendance_tracking.written_notification_1]</h3>
                                <input type="hidden" id="concern_2" name="concern_2" ng-model="record.concern_2.concern_2" />
                            </td>
                        </tr>
                        <tr>
                            <td colspan="4">
                                <ng-messages for="forms.concern_2.notes.$error" ng-show="forms.concern_2.$invalid && forms.concern_2.notes.$touched" role="alert">
                                    <ng-message when="required" class="feedback-error">~[text:psx.htmlc.admin_students.attendance_tracking.notes_are_required_when_a_cont] ~[text:psx.htmlc.admin_students.attendance_tracking.click_the_clipboard_icon_above]</ng-message>
                                    <ng-message when="minlength" class="feedback-error">~[text:psx.htmlc.admin_students.attendance_tracking.notes_must_be_at_least_20_char]</ng-message>
                                    <ng-message when="maxlength" class="feedback-error">~[text:psx.htmlc.admin_students.attendance_tracking.notes_must_be_less_than_4000_c]</ng-message>
                                </ng-messages>
                            </td>
                        </tr>
                        <tr>
                            <td class="grid-item stretchCell">
                                <label class="form-control" for="concern_2_req">
                                <input type="checkbox" ng-model="concerns.concern_2_req" ng-click="handleConcern($event, 'concern_2','concern_2_req')" name="concern_2_req" id="concern_2_req" ng-disabled="countCalls() || concerns.concern_2_sent===true" value="1" /> 
                                    <span>~[text:psx.htmlc.admin_students.attendance_tracking.notification_requested]</span> 
                                </label>
                            </td>
                            <td class="grid-item">
                                <label for="concern_2_req_staff">~[text:psx.htmlc.admin_students.attendance_tracking.contacted_by]</label> 
                                <input size="40" id="concern_2_req_staff" name="req_staff" length="40" ng-model="record.concern_2.concern_2_req_staff" ng-disabled="!concerns.concern_2_req || concerns.concern_2_sent===true" ng-required="concerns.concern_2_req" />
                            </td>
                            <td class="grid-item">
                                <label for="concern_2_req_date">~[text:psx.htmlc.admin_students.attendance_tracking.date]</label> 
                                <input id="concern_2_req_date" name="req_date" ng-model="record.concern_2.concern_2_req_date" type="text" pss-date-widget  ng-disabled="!concerns.concern_2_req || concerns.concern_2_sent==1" ng-required="concerns.concern_2_req" data-minDate="{{ record.calls.parent_call_3_date }}"/>
                            </td>
                            <td class="save-notes" rowspan="3">
                                <div id="concern_2_save" ng-if="concern_2_save=='saving'" data-pss-wait-spinner="small"></div>
                                <button type="submit" ng-click="save($event,'concern_2')" id="concern_2_save" ng-if="concern_2_save=='unsaved' || concern_2_save=='saved' || !concern_2_save"  ng-disabled="forms.concern_2.$invalid || forms.concern_2.$pristine || forms.calls.$dirty"><i class="fi-checkbox icon"></i></button>
                                <div id="saved" class="saved" ng-if="concern_2_save=='saved' && !forms.concern_2.$dirty">~[text:psx.htmlc.admin_students.attendance_tracking.saved]</div>
                            </td>
                        </tr>
                        <tr>
                            <td class="grid-item stretchCell">
                                <label class="form-control" for="concern_2_sent">
                                <input type="checkbox" ng-model="concerns.concern_2_sent" ng-click="handleConcern($event, 'concern_2','concern_2_sent')" name="concern_2_sent" id="concern_2_sent" ng-disabled="!concerns.concern_2_req || concerns.concern_3_req===true" value="1" /> ~[text:psx.htmlc.admin_students.attendance_tracking.notification_sent]
                                </label>
                            </td>
                            <td class="grid-item">
                                <label for="concern_2_sent_staff">~[text:psx.htmlc.admin_students.attendance_tracking.contacted_by]</label> 
                                <input size="40" id="concern_2_sent_staff" name="sent_staff" length="40" ng-model="record.concern_2.concern_2_sent_staff" ng-disabled="!concerns.concern_2_sent || concerns.concern_3_req===true" ng-required="concerns.concern_2_sent" />
                            </td>
                            <td class="grid-item">
                                <label for="concern_2_sent_date">~[text:psx.htmlc.admin_students.attendance_tracking.date]</label> 
                                <input id="concern_2_sent_date" name="sent_date" ng-model="record.concern_2.concern_2_sent_date" type="text" pss-date-widget data-minDate="{{ record.concern_2.concern_2_req_date }}" ng-disabled="!concerns.concern_2_sent || concerns.concern_3_req===true" ng-required="concerns.concern_2_sent===true" />
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3" class="grid-item">
                                <label class="notes-label" for="concern_2_notes">~[text:psx.htmlc.admin_students.attendance_tracking.notes] (~[text:psx.htmlc.admin_students.attendance_tracking.required])</label>
                                <p class="help-text">~[text:psx.htmlc.admin_students.attendance_tracking.note_any_concerns_dates1] ~[text:psx.htmlc.admin_students.attendance_tracking.note_any_supports_or_intervent] ~[text:psx.htmlc.admin_students.attendance_tracking.for_example_referral_to_schoo]</p>
                                <textarea class="notes" id="concern_2_notes" name="notes" ng-model="record.concern_2.concern_2_notes" ng-disabled="!concerns.concern_2_req || concerns.concern_3_sent===true" ng-required="concerns.concern_2_req===true" ng-minlength="20" maxlength="4000"></textarea>
                                
                            </td>
                        </tr>
                    </tbody>
                    <tbody ng-form name="forms.concern_3" id="concern_3Form" novalidate class="validatedForm noSubmitLoading" data-pss-validation-form data-dirty-state-check="true">
                        <tr class="alternateRow">
                            <td colspan="4">
                                <h3 class="concern-head">~[text:psx.htmlc.admin_students.attendance_tracking.written_notification_2]</h3>
                                <input type="hidden" id="concern_3" name="concern_3" ng-model="record.concern_3.concern_3" />
                            </td>
                        </tr>
                        <tr class="alternateRow">
                            <td colspan="4">
                                <ng-messages for="forms.concern_3.notes.$error" ng-show="forms.concern_3.$invalid && forms.concern_3.notes.$touched" role="alert">
                                    <ng-message when="required" class="feedback-error">~[text:psx.htmlc.admin_students.attendance_tracking.notes_are_required_when_a_cont] ~[text:psx.htmlc.admin_students.attendance_tracking.click_the_clipboard_icon_above]</ng-message>
                                    <ng-message when="minlength" class="feedback-error">~[text:psx.htmlc.admin_students.attendance_tracking.notes_must_be_at_least_20_char]</ng-message>
                                    <ng-message when="maxlength" class="feedback-error">~[text:psx.htmlc.admin_students.attendance_tracking.notes_must_be_less_than_4000_c]</ng-message>
                                </ng-messages>
                            </td>
                        </tr>
                        <tr class="alternateRow">
                            <td class="grid-item stretchCell">
                                <label class="form-control" for="concern_3_req">
                                <input type="checkbox" ng-model="concerns.concern_3_req" ng-click="handleConcern($event, 'concern_3','concern_3_req')" name="concern_3_req" id="concern_3_req" ng-disabled="disableConcern('concern_2') || concerns.concern_3_sent===true" value="1" /> <span>~[text:psx.htmlc.admin_students.attendance_tracking.notification_requested]</span> 
                                </label>
                            </td>
                            <td class="grid-item">
                                <label for="concern_3_req_staff">~[text:psx.htmlc.admin_students.attendance_tracking.contacted_by]</label> 
                                <input size="40" id="concern_3_req_staff" name="req_staff" length="40" ng-model="record.concern_3.concern_3_req_staff" ng-disabled="!concerns.concern_3_req || concerns.concern_3_sent===true" ng-required="concerns.concern_3_req" />
                            </td>
                            <td class="grid-item">
                                <label for="concern_3_req_date">~[text:psx.htmlc.admin_students.attendance_tracking.date]</label> 
                                <input id="concern_3_req_date" name="req_date" ng-model="record.concern_3.concern_3_req_date" type="text" pss-date-widget data-minDate="{{ addFiveDays(record.concern_2.concern_2_sent_date) | date: 'MM/dd/yyyy' }}" ng-disabled="!concerns.concern_3_req || concerns.concern_3_sent===true" ng-required="concerns.concern_3_req" />
                            </td>
                            <td class="save-notes" rowspan="3">
                                <div id="concern_3_save" ng-if="concern_3_save=='saving'" data-pss-wait-spinner="small"></div>
                                <button type="submit" ng-click="save($event,'concern_3')" id="concern_3_save" ng-if="concern_3_save=='unsaved' || concern_3_save=='saved' || !concern_3_save"  ng-disabled="forms.concern_3.$invalid || forms.concern_3.$pristine"><i class="fi-checkbox icon"></i></button>
                                <div id="saved" class="saved" ng-if="concern_3_save=='saved' && !forms.concern_3.$dirty">~[text:psx.htmlc.admin_students.attendance_tracking.saved]</div>
                            </td>
                        </tr>
                        <tr class="alternateRow">
                            <td class="grid-item stretchCell">
                                <label class="form-control" for="concern_3_sent">
                                <input type="checkbox" ng-model="concerns.concern_3_sent" ng-click="handleConcern($event, 'concern_3','concern_3_sent')" name="concern_3_sent" id="concern_3_sent" ng-disabled="!concerns.concern_3_req || concerns.concern_4_req===true" value="1" /> ~[text:psx.htmlc.admin_students.attendance_tracking.notification_sent]
                                </label>
                            </td>
                            <td class="grid-item">
                                <label for="concern_3_sent_staff">~[text:psx.htmlc.admin_students.attendance_tracking.contacted_by]</label> 
                                <input size="40" id="concern_3_sent_staff" name="sent_staff" length="40" ng-model="record.concern_3.concern_3_sent_staff" ng-disabled="!concerns.concern_3_sent ||concerns.concern_4_req===true" ng-required="concerns.concern_3_sent" />
                            </td>
                            <td class="grid-item">
                                <label for="concern_3_sent_date">~[text:psx.htmlc.admin_students.attendance_tracking.date]</label> 
                                <input id="concern_3_sent_date" name="sent_date" ng-model="record.concern_3.concern_3_sent_date" type="text" pss-date-widget data-minDate="{{ record.concern_3.concern_3_req_date }}" ng-disabled="!concerns.concern_3_sent || concerns.concern_4_req===true" ng-required="concerns.concern_3_sent===true" />
                            </td>
                        </tr>
                        <tr class="alternateRow">
                            <td colspan="3" class="grid-item">
                                <label class="notes-label" for="concern_3_notes">~[text:psx.htmlc.admin_students.attendance_tracking.notes] (~[text:psx.htmlc.admin_students.attendance_tracking.required])</label>
                                <p class="help-text">~[text:psx.htmlc.admin_students.attendance_tracking.note_any_concerns_dates2] ~[text:psx.htmlc.admin_students.attendance_tracking.note_any_supports_or_intervent] ~[text:psx.htmlc.admin_students.attendance_tracking.for_example_referral_to_schoo]</p>
                                <textarea class="notes" id="concern_3_notes" name="notes" ng-model="record.concern_3.concern_3_notes" ng-disabled="!concerns.concern_3_req || concerns.concern_4_sent===true" ng-required="concerns.concern_3_req===true" ng-minlength="20" maxlength="4000"></textarea>
                                
                            </td>
                        </tr>
                    </tbody>
                     <tbody ng-form name="forms.concern_4" id="concern_4Form" novalidate class="validatedForm noSubmitLoading" data-pss-validation-form data-dirty-state-check="true">
                        <tr>
                            <td colspan="4">
                                <h3 class="concern-head">~[text:psx.htmlc.admin_students.attendance_tracking.written_notification_3]</h3>
                                <input type="hidden" id="concern_4" name="concern_4" ng-model="record.concern_4.concern_4" />
                            </td>
                        </tr>
                        <tr>
                            <td colspan="4">
                                <ng-messages for="forms.concern_4.notes.$error" ng-show="forms.concern_4.$invalid && forms.concern_4.notes.$touched" role="alert">
                                    <ng-message when="required" class="feedback-error">~[text:psx.htmlc.admin_students.attendance_tracking.notes_are_required_when_a_cont] ~[text:psx.htmlc.admin_students.attendance_tracking.click_the_clipboard_icon_above]</ng-message>
                                    <ng-message when="minlength" class="feedback-error">~[text:psx.htmlc.admin_students.attendance_tracking.notes_must_be_at_least_20_char]</ng-message>
                                    <ng-message when="maxlength" class="feedback-error">~[text:psx.htmlc.admin_students.attendance_tracking.notes_must_be_less_than_4000_c]</ng-message>
                                </ng-messages>
                            </td>
                        </tr>
                        <tr>
                            <td class="grid-item stretchCell">
                                <label class="form-control" for="concern_4_req">
                                <input type="checkbox" ng-model="concerns.concern_4_req" ng-click="handleConcern($event, 'concern_4','concern_4_req')" name="concern_4_req" id="concern_4_req" ng-disabled="disableConcern('concern_3') || concerns.concern_4_sent===true" value="1" /> <span>~[text:psx.htmlc.admin_students.attendance_tracking.notification_requested]</span> 
                                </label>
                            </td>
                            <td class="grid-item">
                                <label for="concern_4_req_staff">~[text:psx.htmlc.admin_students.attendance_tracking.contacted_by]</label> 
                                <input size="40" id="concern_4_req_staff" name="req_staff" length="40" ng-model="record.concern_4.concern_4_req_staff" ng-disabled="!concerns.concern_4_req || concerns.concern_4_sent===true" ng-required="concerns.concern_4_req" />
                            </td>
                            <td class="grid-item">
                                <label for="concern_4_req_date">~[text:psx.htmlc.admin_students.attendance_tracking.date]</label> 
                                <input id="concern_4_req_date" name="req_date" ng-model="record.concern_4.concern_4_req_date" type="text" pss-date-widget data-minDate="{{ addFiveDays(record.concern_3.concern_3_sent_date) | date: 'MM/dd/yyyy' }}" ng-disabled="!concerns.concern_4_req || concerns.concern_4_sent===true" ng-required="concerns.concern_4_req" />
                            </td>
                            <td class="save-notes" rowspan="3">
                                <div id="concern_4_save" ng-if="concern_4_save=='saving'" data-pss-wair="small"></div>
                                <button type="submit" ng-click="save($event,'concern_4')" id="concern_4_save" ng-if="concern_4_save=='unsaved' || concern_4_save=='saved' || !concern_4_save"  ng-disabled="forms.concern_4.$invalid || forms.concern_4.$pristine"><i class="fi-checkbox icon"></i></button>
                                <div id="saved" class="saved" ng-if="concern_4_save=='saved' && !forms.concern_4.$dirty">~[text:psx.htmlc.admin_students.attendance_tracking.saved]</div>
                            </td>
                        </tr>
                        <tr>
                            <td class="grid-item stretchCell">
                                <label class="form-control" for="concern_4_sent">
                                <input type="checkbox" ng-model="concerns.concern_4_sent" ng-click="handleConcern($event, 'concern_4','concern_4_sent')" name="concern_4_sent" id="concern_4_sent" ng-disabled="!concerns.concern_4_req || record.referral.referral===1" value="1" /> ~[text:psx.htmlc.admin_students.attendance_tracking.notification_sent]
                                </label>
                            </td>
                            <td class="grid-item">
                                <label for="concern_4_sent_staff">~[text:psx.htmlc.admin_students.attendance_tracking.contacted_by]</label> 
                                <input size="40" id="concern_4_sent_staff" name="sent_staff" length="40" ng-model="record.concern_4.concern_4_sent_staff" ng-disabled="!concerns.concern_4_sent || record.referral.referral===1" ng-required="concerns.concern_4_sent" />
                            </td>
                            <td class="grid-item">
                                <label for="concern_4_sent_date">~[text:psx.htmlc.admin_students.attendance_tracking.date]</label> 
                                <input id="concern_4_sent_date" name="sent_date" ng-model="record.concern_4.concern_4_sent_date" type="text" pss-date-widget data-minDate="{{ record.concern_4s.concern_4_req_date }}" ng-disabled="!concerns.concern_4_sent || record.referral.referral===1" ng-required="concerns.concern_4_sent===true" />
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3" class="grid-item">
                                <label class="notes-label" for="concern_4_notes">~[text:psx.htmlc.admin_students.attendance_tracking.notes] (~[text:psx.htmlc.admin_students.attendance_tracking.required])</label>
                                <p class="help-text">~[text:psx.htmlc.admin_students.attendance_tracking.note_any_concerns_dates3] ~[text:psx.htmlc.admin_students.attendance_tracking.note_any_supports_or_intervent] ~[text:psx.htmlc.admin_students.attendance_tracking.for_example_referral_to_schoo]</p>
                                <textarea class="notes" id="concern_4_notes" name="notes" ng-model="record.concern_4.concern_4_notes" ng-disabled="!concerns.concern_4_req || record.referral.referral===1" ng-required="concerns.concern_4_req===true" ng-minlength="20" maxlength="4000"></textarea>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </fieldset>
             <fieldset>
                <legend>~[text:psx.htmlc.admin_students.attendance_tracking.referral]</legend>
                <form name="forms.ref" id="refForm" ng-submit="save($event,'referral')" novalidate class="validatedForm noSubmitLoading" data-pss-validation-form data-dirty-state-check="true">
                    <table class="checklistTable">
                        <colgroup>
                            <col style="width:35%;" />
                            <col style="width:38%;" />
                            <col style="width:18%;" />
                            <col style="width:9%;" />
                        </colgroup>
                        <tbody>
                            <tr>
                                <td class="grid-item stretchCell">
                                    <label class="form-control" for="referral">
                                    <input type="checkbox" ng-model="record.referral.referral" ng-click="toggle($event, 'referral', 'referral')" name="referral" id="referral" ng-true-value="1" ng-false-value="0" ng-disabled="disableReferral()"> ~[text:psx.htmlc.admin_students.attendance_tracking.notification_to_the_director]
                                    </label>
                                    <!--
                                   <button id="referral_btn" class="stretch" ng-show="record.referral.referral==0" ng-click="handleReferral()" ng-disabled="disableReferral()">Notification to Director</button>
                                   <div class="successText stretch" ng-show="record.referral.referral>0"><i class="fi-check"></i> Concern flagged</div>
                                    <input type="hidden" id="referral" name="referral" ng-model="record.referral.referral" data-step="referral" />-->
                                </td>
                                <input type="hidden" ng-model="record.referral.referral" name="referral" id="referral">
                                <td class="grid-item">
                                    <label for="referral_staff">~[text:psx.htmlc.admin_students.attendance_tracking.contacted_by]</label> 
                                    <input size="40" id="referral_staff" name="staff" length="40" ng-model="record.referral.referral_staff" ng-disabled="record.referral.referral==0" ng-required="record.referral.referral==1" />
                                </td>
                                <td class="grid-item">
                                    <label for="referral_date">~[text:psx.htmlc.admin_students.attendance_tracking.date]</label> 
                                    <input id="referral_date" name="date" data-minDate="{{ record.concern_4.concern_4_sent_date }}" ng-model="record.referral.referral_date" type="text" pss-date-widget  ng-disabled="record.referral.referral==0" ng-required="record.referral.referral==1" />
                                </td>
                                <td row-span="2" class="save-notes">
                                    <div id="referral_save" ng-if="referral_save=='saving'" data-pss-wait-spinner="small"></div>
                                    <button type="submit" ng-click="saveAndEmail($event,'referral')" id="referral_save" ng-if="referral_save=='unsaved' || referral_save=='saved' || !referral_save" ng-disabled="forms.ref.$invalid || forms.ref.$pristine"><i class="fi-checkbox icon"></i></button>
                                    <div id="saved" class="saved" ng-if="referral_save=='saved' && !forms.ref.$dirty">~[text:psx.htmlc.admin_students.attendance_tracking.saved]</div>
                                    <div id="emailed" class="emailed" ng-if="referral_emailed==1 && !forms.ref.$dirty">Email Sent</div>
                                </td>
                            </tr>
                            <!--  HIDE UNTIL FUNCTIONALITY IS FINALIZED
                            <tr>
                              <td class="grid-item stretchCell">
                                  <label class="form-control" for="referral_sent">
                                  <input type="checkbox" ng-model="referral.referral_sent" ng-click="handleConcern($event, 'concern_4','concern_4_sent')" name="concern_4_sent" id="concern_4_sent" ng-disabled="!concerns.concern_4_req || record.referral.referral===1" value="1" /> ~[text:psx.htmlc.admin_students.attendance_tracking.notification_sent]
                                  </label>
                              </td>
                              <td class="grid-item">
                                  <label for="concern_4_sent_staff">~[text:psx.htmlc.admin_students.attendance_tracking.contacted_by]</label> 
                                  <input size="40" id="concern_4_sent_staff" name="sent_staff" length="40" ng-model="record.concern_4.concern_4_sent_staff" ng-disabled="!concerns.concern_4_sent || record.referral.referral===1" ng-required="concerns.concern_4_sent" />
                              </td>
                              <td class="grid-item">
                                  <label for="concern_4_sent_date">~[text:psx.htmlc.admin_students.attendance_tracking.date]</label> 
                                  <input id="concern_4_sent_date" name="sent_date" ng-model="record.concern_4.concern_4_sent_date" type="text" pss-date-widget data-minDate="{{ record.concern_4s.concern_4_req_date }}" ng-disabled="!concerns.concern_4_sent || record.referral.referral===1" ng-required="concerns.concern_4_sent===true" />
                              </td>
                            </tr>
                          -->
                            <tr>
                              <td colspan="3" class="grid-item">
                                <label class="notes-label" for="referral_notes">~[text:psx.htmlc.admin_students.attendance_tracking.notes]</label>
                                ~[if.is.a.school]{{record.referral.referral_notes}}[else]<textarea class="notes" id="referral_notes" name="referral_notes" ng-model="record.referral.referral_notes"  maxlength="4000"></textarea>[/if]
                              </td>
                            </tr>
                        </tbody>
                    </table>
                </form>
            </fieldset>
        </div>
        <div id="alertMsgs" style="margin-top: 10px;">
            <div class="feedback-alert" ng-if="gradeInYear > 9 && gradeInYear > -2 && termid % 100 === 0"><p>~[text:psx.htmlc.admin_students.attendance_tracking.switch_to_1st_or_2nd_semester]</p></div>
            <div class="feedback-alert" ng-if="gradeInYear < 10 && gradeInYear > -2 && termid % 100 !== 0"><p>~[text:psx.htmlc.admin_students.attendance_tracking.switch_to_the_full-year_term_u]</p></div>
            <div class="feedback-alert" ng-if="gradeInYear==-9"><p>~[text:psx.htmlc.admin_students.attendance_tracking.no_enrollment_record_for_this]</p></div>
        </div>
    </div>
<!-- Printable -->
    <div id="printarea" class="printable" style="display: none;">
        <div class="no-print warning">~[text:psx.htmlc.admin_students.attendance_tracking.print_this_document_by_selecti] ~[text:psx.htmlc.admin_students.attendance_tracking.close_this_window_one_you_have]</div>
        <h1>~(first_name) ~(last_name)</h1>
        <h2>~[text:psx.htmlc.admin_students.attendance_tracking.grade_level_this_term] ~(termname) <span class="right boldtext">~[text:psx.htmlc.admin_students.attendance_tracking.grade_level_this_term] {{gradeInYear}}</span></h2>
        <fieldset ng-if="gradeInYear > 9">
            <legend>~[text:psx.htmlc.admin_students.attendance_tracking.student_contact]</legend>
            <table class="checklistTable">
                <colgroup>
                    <col style="width:38%;" />
                    <col style="width:41%;" />
                    <col style="width:21%;" />
                </colgroup>
                <tbody>
                    <tr>
                        <td class="grid-item stretchCell">
                            <span ng-if="record.student.student_notification==1"><i class="fi-check"></i></span><span ng-if="record.student.student_notification != 1"><i class="fi-x"></i></span> &nbsp; ~[text:psx.htmlc.admin_students.attendance_tracking.discussion_of_concern]
                        </td>
                        <td class="grid-item">
                            <strong>~[text:psx.htmlc.admin_students.attendance_tracking.contacted_by]:</strong> {{ record.student.student_notification_staff }}
                        </td>
                        <td class="grid-item">
                            <strong>~[text:psx.htmlc.admin_students.attendance_tracking.date]:</strong> {{ record.student.student_notification_date }}
                        </td>
                    </tr>
                </tbody>
            </table>
        </fieldset>
         <fieldset>
            <legend>~[text:psx.htmlc.admin_students.attendance_tracking.initial_concern_and_guardian_c]</legend>
            <table class="checklistTable">
                <colgroup>
                    <col style="width:38%;" />
                    <col style="width:41%;" />
                    <col style="width:21%;" />
                </colgroup>
                <tbody>
                    <tr>
                        <td class="grid-item stretchCell">
                            <strong>~[text:psx.htmlc.admin_students.attendance_tracking.call_1] &nbsp;</strong><span ng-if="record.calls.parent_call_1 === 0">~[text:psx.htmlc.admin_students.attendance_tracking.not_attempted]</span><span ng-if="record.calls.parent_call_1 === 1">~[text:psx.htmlc.admin_students.attendance_tracking.no_contact] made</span><span ng-if="record.calls.parent_call_1 === 3">~[text:psx.htmlc.admin_students.attendance_tracking.contact_made]</span>
                        </td>
                        <td class="grid-item">
                            <strong>~[text:psx.htmlc.admin_students.attendance_tracking.contacted_by]</strong> {{record.calls.parent_call_1_staff }}
                        </td>
                        <td class="grid-item">
                            <strong>~[text:psx.htmlc.admin_students.attendance_tracking.date]: </strong> {{ record.calls.parent_call_1_date }}
                        </td>
                    </tr>
                    <tr>
                        <td class="grid-item stretchCell">
                            <strong>~[text:psx.htmlc.admin_students.attendance_tracking.call_2] &nbsp;</strong><span ng-if="record.calls.parent_call_2 === 0">~[text:psx.htmlc.admin_students.attendance_tracking.not_attempted]</span><span ng-if="record.calls.parent_call_2 === 1">~[text:psx.htmlc.admin_students.attendance_tracking.no_contact] made</span><span ng-if="record.calls.parent_call_2 === 3">~[text:psx.htmlc.admin_students.attendance_tracking.contact_made]</span>
                        </td>
                        <td class="grid-item">
                            <strong>~[text:psx.htmlc.admin_students.attendance_tracking.contacted_by]</strong> {{record.calls.parent_call_2_staff }}
                        </td>
                        <td class="grid-item">
                            <strong>~[text:psx.htmlc.admin_students.attendance_tracking.date]: </strong> {{ record.calls.parent_call_2_date }}
                        </td>
                    </tr>
                    <tr>
                        <td class="grid-item stretchCell">
                            <strong>~[text:psx.htmlc.admin_students.attendance_tracking.call_3] &nbsp;</strong><span ng-if="record.calls.parent_call_3 === 0">~[text:psx.htmlc.admin_students.attendance_tracking.not_attempted]</span><span ng-if="record.calls.parent_call_3 === 1">~[text:psx.htmlc.admin_students.attendance_tracking.no_contact] made</span><span ng-if="record.calls.parent_call_3 === 3">~[text:psx.htmlc.admin_students.attendance_tracking.contact_made]</span>
                        </td>
                        <td class="grid-item">
                            <strong>~[text:psx.htmlc.admin_students.attendance_tracking.contacted_by]</strong> {{record.calls.parent_call_3_staff }}
                        </td>
                        <td class="grid-item">
                            <strong>~[text:psx.htmlc.admin_students.attendance_tracking.date]: </strong> {{ record.calls.parent_call_3_date }}
                        </td>
                    </tr>
                    <tr>
                        <td colspan="3" class="grid-item">
                            <p><strong>~[text:psx.htmlc.admin_students.attendance_tracking.notes]:</strong> {{record.calls.parent_call_notes}}</p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </fieldset>
        <fieldset>
            <legend>~[text:psx.htmlc.admin_students.attendance_tracking.continued_concern_&_written_no]</legend>
            <table class="checklistTable">
                <colgroup>
                    <col style="width:38%;" />
                    <col style="width:41%;" />
                    <col style="width:21%;" />
                </colgroup>  
                <tbody>
                    <tr>
                        <td colspan="4">
                            <h3 class="concern-head">~[text:psx.htmlc.admin_students.attendance_tracking.written_notification_1]</h3>
                        </td>
                    </tr>
                    <tr>
                        <td class="grid-item stretchCell">
                            <span ng-if="concerns.concern_2_req==true"><i class="fi-check"></i></span><span ng-if="concerns.concern_2_req != true"><i class="fi-x"></i></span>&nbsp; <strong>~[text:psx.htmlc.admin_students.attendance_tracking.written_notification_1]</strong>
                        </td>
                        <td class="grid-item">
                            <strong>~[text:psx.htmlc.admin_students.attendance_tracking.contacted_by]:</strong> {{record.concern_2.concern_2_req_staff }}
                        </td>
                        <td class="grid-item">
                            <strong>~[text:psx.htmlc.admin_students.attendance_tracking.date]:</strong> {{ record.concern_2.concern_2_req_date }}
                        </td>
                    </tr>
                    <tr>
                        <td class="g``concern_4_sent_date` stretchCell">
                            <span ng-if="concerns.concern_2_sent==true"><i class="fi-check"></i></span><span ng-if="concerns.concern_2_sent != true"><i class="fi-x"></i></span>&nbsp; <strong>~[text:psx.htmlc.admin_students.attendance_tracking.notification_sent]</strong>
                        </td>
                        <td class="grid-item">
                            <strong>~[text:psx.htmlc.admin_students.attendance_tracking.contacted_by]:</strong> {{record.concern_2.concern_2_sent_staff }}
                        </td>
                        <td class="grid-item">
                            <strong>~[text:psx.htmlc.admin_students.attendance_tracking.date]:</strong> {{ record.concern_2.concern_2_sent_date }}
                        </td>
                    </tr>
                    <tr>
                        <td colspan="3" class="grid-item">
                            <p><strong>~[text:psx.htmlc.admin_students.attendance_tracking.notes]:</strong> {{record.concern_2.concern_2_notes}}</p>
                        </td>
                    </tr>
                </tbody>
                <tbody>
                    <tr>
                        <td colspan="4">
                            <h3 class="concern-head">~[text:psx.htmlc.admin_students.attendance_tracking.written_notification_2]</h3>
                        </td>
                    </tr>
                    <tr>
                        <td class="grid-item stretchCell">
                            <span ng-if="concerns.concern_3_req==true"><i class="fi-check"></i></span><span ng-if="concerns.concern_3_req != true"><i class="fi-x"></i></span>&nbsp; <strong>~[text:psx.htmlc.admin_students.attendance_tracking.written_notification_2]</strong>
                        </td>
                        <td class="grid-item">
                            <strong>~[text:psx.htmlc.admin_students.attendance_tracking.contacted_by]:</strong> {{record.concern_3.concern_3_req_staff }}
                        </td>
                        <td class="grid-item">
                            <strong>~[text:psx.htmlc.admin_students.attendance_tracking.date]:</strong> {{ record.concern_3.concern_3_req_date }}
                        </td>
                    </tr>
                    <tr>
                        <td class="grid-item stretchCell">
                            <span ng-if="concerns.concern_3_sent==true"><i class="fi-check"></i></span><span ng-if="concerns.concern_3_sent != true"><i class="fi-x"></i></span>&nbsp; <strong>~[text:psx.htmlc.admin_students.attendance_tracking.notification_sent]</strong>
                        </td>
                        <td class="grid-item">
                            <strong>~[text:psx.htmlc.admin_students.attendance_tracking.contacted_by]:</strong> {{record.concern_3.concern_3_sent_staff }}
                        </td>
                        <td class="grid-item">
                            <strong>~[text:psx.htmlc.admin_students.attendance_tracking.date]:</strong> {{ record.concern_3.concern_3_sent_date }}
                        </td>
                    </tr>
                    <tr>
                        <td colspan="3" class="grid-item">
                            <p><strong>~[text:psx.htmlc.admin_students.attendance_tracking.notes]:</strong> {{record.concern_3.concern_3_notes}}</p>
                        </td>
                    </tr>
                </tbody>
                <tbody>
                    <tr>
                        <td colspan="4">
                            <h3 class="concern-head">~[text:psx.htmlc.admin_students.attendance_tracking.written_notification_3]</h3>
                        </td>
                    </tr>
                    <tr>
                        <td class="grid-item stretchCell">
                            <span ng-if="concerns.concern_4_req==true"><i class="fi-check"></i></span><span ng-if="concerns.concern_4_req != true"><i class="fi-x"></i></span>&nbsp; <strong>~[text:psx.htmlc.admin_students.attendance_tracking.written_notification_3]</strong>
                        </td>
                        <td class="grid-item">
                            <strong>~[text:psx.htmlc.admin_students.attendance_tracking.contacted_by]:</strong> {{record.concern_4.concern_4_req_staff }}
                        </td>
                        <td class="grid-item">
                            <strong>~[text:psx.htmlc.admin_students.attendance_tracking.date]:</strong> {{ record.concern_4.concern_4_req_date }}
                        </td>
                    </tr>
                    <tr>
                        <td class="grid-item stretchCell">
                            <span ng-if="concerns.concern_4_sent==true"><i class="fi-check"></i></span><span ng-if="concerns.concern_4_sent != true"><i class="fi-x"></i></span>&nbsp; <strong>~[text:psx.htmlc.admin_students.attendance_tracking.notification_sent]</strong>
                        </td>
                        <td class="grid-item">
                            <strong>~[text:psx.htmlc.admin_students.attendance_tracking.contacted_by]:</strong> {{record.concern_4.concern_4_sent_staff }}
                        </td>
                        <td class="grid-item">
                            <strong>~[text:psx.htmlc.admin_students.attendance_tracking.date]:</strong> {{ record.concern_4.concern_4_sent_date }}
                        </td>
                    </tr>
                    <tr>
                        <td colspan="3" class="grid-item">
                            <p><strong>~[text:psx.htmlc.admin_students.attendance_tracking.notes]:</strong> {{record.concern_4.concern_4_notes}}</p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </fieldset>
         <fieldset>
            <legend>~[text:psx.htmlc.admin_students.attendance_tracking.referral]</legend>
            <table class="checklistTable">
                <colgroup>
                    <col style="width:38%;" />
                    <col style="width:41%;" />
                    <col style="width:21%;" />
                </colgroup>
                <tbody>
                    <tr>
                        <td class="grid-item stretchCell">
                             <span ng-if="record.referral.referral>0"><i class="fi-check"></i></span><span ng-if="record.referral.referral==0"><i class="fi-x"></i></span> &nbsp; ~[text:psx.htmlc.admin_students.attendance_tracking.notification_to_the_director]
                        </td>
                        <td class="grid-item">
                            <strong>~[text:psx.htmlc.admin_students.attendance_tracking.contacted_by]:</strong> {{ record.referral.referral_staff }}
                        </td>
                        <td class="grid-item">
                            <strong>~[text:psx.htmlc.admin_students.attendance_tracking.date]:</strong> {{ record.referral.referral_date }}
                        </td>
                    </tr>
                    <tr>
                        <td colspan="3" class="grid-item">
                            <p><strong>~[text:psx.htmlc.admin_students.attendance_tracking.notes]:</strong> {{record.referral.referral_notes}}</p>
                        </td>
                    </tr>
                </tbody>
            </table>
            <!-- For email notifications -->
            <div id="emailHelper" style="display: none;">
                <input name="type" type="hidden" id="emailType" value="100">
                <input type="text" id="emailFrom" value="~[x:useremail]" size=75 >
                <input type="text" value=~[if#psb.~(schoolid)<500]"~[displaypref:attendancetrackingPSB]"[else#psb]~[if#cslf.schoolid<601]"~[displaypref:attendancetrackingCSLF]"[/if#clsf][/if#psb] id="emailTo" size=75 >
                <input type="text" id="emailSubject" value="~[text:psx.htmlc.admin_students.attendance_tracking.attendance_concern_referral_sub]" size=35>
                <input id="emailBody" rows=12 cols=100 value="~[text:psx.htmlc.admin_students.attendance_tracking.user_has_requested_email] ~[text:psx.htmlc.admin_students.attendance_tracking.you_can_review_their_file_by_l].  &NewLine;&NewLine; ~[text:psx.htmlc.admin_students.attendance_tracking.this_email_was_automatically_g] ~[text:psx.htmlc.admin_students.attendance_tracking.contact_powerschoolhelp@cloud.]"/>
                <input type="text" id="emailDate" name="date" value="~[date]" >
                <input type="text" id="emailTime" name="time" value="~(f.currenttime)" >
            </div>
        </fieldset>
    </div>
<!-- end of content of bounding box -->
</div>
~[wc:admin_footer_frame_css]
    
</body>
</html><!-- end right frame -->